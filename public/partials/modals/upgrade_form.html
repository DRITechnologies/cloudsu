<div class="modal-body">
    <form name="StackForm" class="form-horizontal">
        <fieldset>
            <legend> Upgrade Stack</legend>
            <div class="form-group">
                <label for="input" class="col-lg-2 control-label">Upgrade Type <i class="fa fa-info-circle" data-hover="dropdown" data-toggle="dropdown" title="(Simple) Changes version and runs CMS on each instance. (Advanced) Launches new instances and places them behind the ELB once provisioning is complete."></i></label>
                <div class="col-lg-10">
                    <select ng-model="stack.upgrade_type" class="form-control" id="select" required>
                        <option>Simple</option>
                        <option>Advanced</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label for="input" class="col-lg-2 control-label">Verion </label>
                <div class="col-lg-10">
                    <input type="text" name="version" ng-model="stack.app_version">
                </div>
                <label for="input" class="col-lg-2 control-label"><small>current: {{ current_version }}</small></label>
            </div>
            <div ng-show="stack.upgrade_type === 'Advanced'" class="form-group">
                <label for="select" class="col-lg-2 control-label">Instance Size </label>
                <div class="col-lg-10">
                    <select ng-model="stack.instance_size" class="form-control" id="select" required>
                        <option ng-repeat="size in instanceSizes">{{ size }}</option>
                    </select>
                </div>
            </div>
            <div ng-show="stack.upgrade_type === 'Advanced'" class="form-group">
                <label for="input" class="col-lg-2 control-label">AMI (optional)</label>
                <div class="col-lg-10">
                    <input type="text" name="min_size" ng-model="stack.ami">
                </div>
            </div>
            <div ng-show="stack.upgrade_type === 'Advanced'" class="form-group">
                <label for="input" class="col-lg-2 control-label">Min Size</label>
                <div class="col-lg-10">
                    <input type="number" name="min_size" ng-model="stack.min_size" min="0" max="1000">
                </div>
            </div>
            <div ng-show="stack.upgrade_type === 'Advanced'" class="form-group">
                <label for="input" class="col-lg-2 control-label">Desired Size</label>
                <div class="col-lg-10">
                    <input type="number" name="desired_size" ng-model="stack.desired_size" min="0" max="1000">
                </div>
            </div>
            <div ng-show="stack.upgrade_type === 'Advanced'" class="form-group">
                <label for="input" class="col-lg-2 control-label">Max Size</label>
                <div class="col-lg-10">
                    <input type="number" name="max_size" ng-model="stack.max_size" min="0" max="1000">
                </div>
            </div>
            <div ng-show="stack.upgrade_type === 'Advanced'" class="form-group">
                <label for="select" class="col-lg-2 control-label">cleanup type <i class="fa fa-info-circle" data-hover="dropdown" data-toggle="dropdown" title="(tag) adds a group_terminate_date aws tag to the scale group. This option allows for rollback if needed. (delete) removes the old scale groups as soon as they are disconnected from the ELB."></i></label>
                <div class="col-lg-10">
                    <select ng-model="stack.cleanup_type" class="form-control" id="select" required="true">
                        <option>Tag</option>
                        <option>Delete</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label for="select" class="col-lg-2 control-label">Force Upgrade? <i class="fa fa-info-circle" data-hover="dropdown" data-toggle="dropdown" title="This option forces upgrade when chef environment is not in a READY state"></i></label>
                <div class="col-lg-10">
                    <input type="checkbox" ng-model="stack.force_upgrade" name="force_upgrade">
                </div>
            </div>
            <alertsmodal></alertsmodal>
            <div class="form-group">
                <div class="col-lg-10 col-lg-offset-2">
                    <button ng-click="cancel()" type="reset" class="btn btn-default">Cancel</button>
                    <button ng-click="upgrade()" type="submit" class="btn btn-primary"><i ng-show="showSpinner" class="fa fa-circle-o-notch fa-spin"></i> Upgrade Stack</button>
                </div>
            </div>
        </fieldset>
    </form>
</div>